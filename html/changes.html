<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Changes from version 3.1 to 3.2 &mdash; TreeCorr  documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="TreeCorr  documentation" href="index.html" />
    <link rel="next" title="Previous History" href="history.html" />
    <link rel="prev" title="The corr2 and corr3 driver scripts" href="corr2.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="history.html" title="Previous History"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="corr2.html" title="The corr2 and corr3 driver scripts"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">TreeCorr  documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="changes-from-version-3-1-to-3-2">
<h1>Changes from version 3.1 to 3.2<a class="headerlink" href="#changes-from-version-3-1-to-3-2" title="Permalink to this headline">¶</a></h1>
<p>The numbers at the ends of some items below indicate which issue is connected
with the change:</p>
<p><a class="reference external" href="https://github.com/rmjarvis/TreeCorr/issues?q=milestone%3A%22Version+3.2%22+is%3Aclosed">https://github.com/rmjarvis/TreeCorr/issues?q=milestone%3A%22Version+3.2%22+is%3Aclosed</a></p>
<div class="section" id="api-changes">
<h2>API changes:<a class="headerlink" href="#api-changes" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Changed the default value of <tt class="docutils literal"><span class="pre">bin_slop</span></tt> so that <tt class="docutils literal"><span class="pre">bin_slop</span> <span class="pre">*</span> <span class="pre">bin_size</span></tt> is
at most 0.1.  When this product (which I refer to as b) is larger than 0.1,
there can be significant inaccuracies in the resulting correlation function.
Now, if <tt class="docutils literal"><span class="pre">bin_slop</span></tt> is unspecified, it is set to <tt class="docutils literal"><span class="pre">0.1/bin_size</span></tt> if
<tt class="docutils literal"><span class="pre">bin_size</span> <span class="pre">&gt;</span> <span class="pre">0.1</span></tt>, or just <tt class="docutils literal"><span class="pre">1.0</span></tt> if <tt class="docutils literal"><span class="pre">bin_size</span> <span class="pre">&lt;=</span> <span class="pre">0.1</span></tt>. (#15)</li>
<li>Changed output columns that were labeled with <tt class="docutils literal"><span class="pre">&lt;...&gt;</span></tt> to instead use
<tt class="docutils literal"><span class="pre">mean</span></tt> in front.  e.g. <tt class="docutils literal"><span class="pre">&lt;R&gt;</span></tt> -&gt; <tt class="docutils literal"><span class="pre">meanR</span></tt>.  Some programs don&#8217;t handle
column names with punctuation well, so this avoids the issue.  Similarly,
changed <tt class="docutils literal"><span class="pre">xi+</span></tt> and <tt class="docutils literal"><span class="pre">xi-</span></tt> to <tt class="docutils literal"><span class="pre">xip</span></tt>, <tt class="docutils literal"><span class="pre">xim</span></tt> and <tt class="docutils literal"><span class="pre">&lt;Map^2&gt;</span></tt> to <tt class="docutils literal"><span class="pre">Mapsq</span></tt>.</li>
<li>Changed the <tt class="docutils literal"><span class="pre">&lt;R&gt;</span></tt> (now <tt class="docutils literal"><span class="pre">meanR</span></tt>) column in the output to actually be the
mean value of R for that bin. It used to really be exp(&lt;logR&gt;).  Also added
a <tt class="docutils literal"><span class="pre">meanlogR</span></tt> column.  This means if you were accessing the output columsn
by column number, you will need to change your code to add 1, since most of
the columns have been bumped 1 column to the right.  (While you&#8217;re at it,
you should switch to accessing them by column name instead, maybe via the
FITS I/O option...) (#28)</li>
</ul>
</div>
<div class="section" id="new-features">
<h2>New features:<a class="headerlink" href="#new-features" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Added three point functions.  So far just NNN, KKK, and GGG are implemented.
See the docstrings for the classes <tt class="docutils literal"><span class="pre">NNNCorrelation</span></tt>, <tt class="docutils literal"><span class="pre">GGGCorrelation</span></tt>,
and <tt class="docutils literal"><span class="pre">KKKCorrelation</span></tt> for details about how to use them. (#3, #4, #33)</li>
<li>Added ability to use the perpendicular component of the distance as the
separation metric with <tt class="docutils literal"><span class="pre">process(cat,</span> <span class="pre">metric='Rperp')</span></tt> (#17)</li>
<li>Added the ability for the Correlation classes to write to FITS binary tables.
If an output file name has an extension that starts with &#8216;.fit&#8217;, then it will
write a FITS binary table, rather than an ASCII file.  Or you can specify the
file type with the <tt class="docutils literal"><span class="pre">file_type</span></tt> parameter. (#22)</li>
<li>Added a read() function to the Correlation classes to read data back in from
and output file.  The combination of this with the FITS write lets you save a
Correlation object to disk and recover it without loss of information.  This
can be used to split a problem up to be run on multiple machines. (#23)</li>
<li>Added ability to add one Correlation object to another to enable doing the
calculation in parts over several processes. (#23)</li>
<li>Added the option of calling <tt class="docutils literal"><span class="pre">NNCorrelation.write()</span></tt> with no <tt class="docutils literal"><span class="pre">rr</span></tt>
parameter.  In this case, it will just write a column with the number of
pairs (along with the regular separation columns), rather than calculate the
correlation function.</li>
<li>Added ability to write Catalogs to either FITS or ASCII files.</li>
<li>Added ability to use different weights for the position centroiding than for
the regular weighted values being correlated.  This enables jackknife
calculations to have the exact same tree structure each time by setting
the value weights <tt class="docutils literal"><span class="pre">w=0</span></tt> for the points to exclude each time, but keep
<tt class="docutils literal"><span class="pre">wpos</span></tt> the same so the cells are identical.  This removes some numerical
noise in the calculation that otherwise occurs. (#31)</li>
<li>Added ability to specify 3D coordinates with (x,y,z) in addition to using
(ra,dec,r).</li>
</ul>
</div>
<div class="section" id="bug-fixes">
<h2>Bug fixes:<a class="headerlink" href="#bug-fixes" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Added a <tt class="docutils literal"><span class="pre">num_threads</span></tt> parameter to the various <tt class="docutils literal"><span class="pre">process</span></tt> functions.  The
&#8216;num_threads&#8217; parameter had been checked only when loading the config dict
from a file, which meant that there was no obvious way to change the number
of threads in the python layer. This is now possible. (#21)</li>
<li>Fixed NN correlations to properly use weight values.  This is particularly
useful for setting some points to have w=0 to exclude them from the sums,
which didn&#8217;t used to work. (#29)</li>
</ul>
</div>
</div>
<div class="section" id="changes-from-version-3-2-0-to-3-2-1">
<h1>Changes from version 3.2.0 to 3.2.1<a class="headerlink" href="#changes-from-version-3-2-0-to-3-2-1" title="Permalink to this headline">¶</a></h1>
<div class="section" id="id1">
<h2>Bug fixes:<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Fixed a bug for GG cross-correlation that somehow there wasn&#8217;t a unit test
for (and now there is).</li>
</ul>
</div>
</div>
<div class="section" id="changes-from-version-3-2-1-to-3-2-2">
<h1>Changes from version 3.2.1 to 3.2.2<a class="headerlink" href="#changes-from-version-3-2-1-to-3-2-2" title="Permalink to this headline">¶</a></h1>
<div class="section" id="id2">
<h2>Bug fixes:<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Fixed a bug in corr2 executable for NN cross-correlations when using
lists for the random files. #37</li>
</ul>
</div>
</div>
<div class="section" id="changes-from-version-3-2-2-to-3-2-3">
<h1>Changes from version 3.2.2 to 3.2.3<a class="headerlink" href="#changes-from-version-3-2-2-to-3-2-3" title="Permalink to this headline">¶</a></h1>
<div class="section" id="id3">
<h2>Bug fixes:<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Turned off debugging output, which was accidentally left on.</li>
</ul>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Changes from version 3.1 to 3.2</a><ul>
<li><a class="reference internal" href="#api-changes">API changes:</a></li>
<li><a class="reference internal" href="#new-features">New features:</a></li>
<li><a class="reference internal" href="#bug-fixes">Bug fixes:</a></li>
</ul>
</li>
<li><a class="reference internal" href="#changes-from-version-3-2-0-to-3-2-1">Changes from version 3.2.0 to 3.2.1</a><ul>
<li><a class="reference internal" href="#id1">Bug fixes:</a></li>
</ul>
</li>
<li><a class="reference internal" href="#changes-from-version-3-2-1-to-3-2-2">Changes from version 3.2.1 to 3.2.2</a><ul>
<li><a class="reference internal" href="#id2">Bug fixes:</a></li>
</ul>
</li>
<li><a class="reference internal" href="#changes-from-version-3-2-2-to-3-2-3">Changes from version 3.2.2 to 3.2.3</a><ul>
<li><a class="reference internal" href="#id3">Bug fixes:</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="corr2.html"
                        title="previous chapter">The corr2 and corr3 driver scripts</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="history.html"
                        title="next chapter">Previous History</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/changes.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="history.html" title="Previous History"
             >next</a> |</li>
        <li class="right" >
          <a href="corr2.html" title="The corr2 and corr3 driver scripts"
             >previous</a> |</li>
        <li><a href="index.html">TreeCorr  documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2015, Mike Jarvis.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
  </body>
</html>